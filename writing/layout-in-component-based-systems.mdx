---
title: Components and surrounding whitespace
subtitle: Keep inherent whitespace to a minimum for more maintainable layouts
date: 2020-12-29
tags:
  - css
  - front-end
  - react
  - css-layout
---

Scaling CSS can be notoriously tricky. Contrary to jabs and ribs about it being "just center this `div` vertically" or "move the button `2px` to the left", CSS is an _essential_ part of the front-end web stack.

Given the importance of CSS, I've found myself thinking about its role in scalable apps and maintainable codebased—in some ways getting CSS "right" is just as important as your HTML and JS. Even in a world dominated by JS frameworks. 

A solid CSS approach can mean the difference between an "append-only stylesheet" and code that's scalable, flexible, and (dare-I-say) enjoyable to work with.

<Callout title="Sidenote">

_CSS being difficult is one of the reasons that frameworks like [Bootstrap](TODO:), [Material-UI](TODO:), and [Tailwind CSS](TODO:) are so popular. They make a difficult problem seem_

</Callout>

In modern web applications, I've myself working increasingly with the _component_ as the unit of composition rather than _pages_. By this I mean that we split our CSS by components (single CSS file per component rather than one per page). We look at pages as collections of 
self-contained components. We handle state and data-fetching and user interactions at the component level rather than at a larger page level.

However, even though we've _started_ thinking in components, I'd argue that some of our approaches to CSS still draw from a page-based model.

Especially margin and padding.

On most of the apps I've worked on, the instinct seems to be to shove margin and padding wherever they "get the job done". We learned that less DOM elements is better, that "divitis is bad", and that "HTML comes first, CSS follows" (or at least I originally did). As a result we start with a minimal set of HTML and shove CSS wherever we can to get an appropriate representation of the UI. We pass CSS classes into our components so that we can go even further—overriding our own styles to make small adjustments like padding and margin.

<Callout variant="warning" title="Disclaimer">

_None of these things are inherently "wrong". But they do introduce trade-offs and we should be wary of taking them as gospel truth.

</Callout>

In the apps I've built, I've found it helpful to revisit some of these principles. I've started to look at CSS as a first-class citizen in my apps—it's not always HTML-first, CSS-next. `div`s aren't inherently evil. Lately, I've been following this aphorism when I'm approaching a complex CSS layout:

> A component should not "own" its own surrounding whitespace, but it can own the whitsepace surrounding its direct children.

This allows us to split out our CSS whitespace rules as a specific concern a component can have. Once we've established that whitespace is different (and follows different rules) than styles like borders, colors, and fonts, we can now dive into _which_ components the whitespace concern belongs to.

This doesn't forbid components from owning _any_ whitespace—otherwise we wouldn't be able to put spacing in our apps! Instead, it's focused only on the _whitespace surrounding the component_.

By trimming all surrounding whitespace, we gain a number of key benefits:

- The translation of a design mock into components become much more straightforward, since you can use the visual _edges_ as component boundaries.
- There's a smaller cognitive load to adding whitespace around a component. The padding is exactly what the parent says it is, not the parent + the child.
- Chances are your pages will end up looking better due to consistent white space. If you're following a design system, this increases the likelihood of you sticking to the design system's spacing values.
- If you _are_ passing CSS classes into your components, you don't have to worry about overriding surrounding whitespace. Since your component doesn't have any surrounding padding / margin, you can freely set that style.

### Conclusion 

This approach can drastically improve the quality of CSS on a web application—regardless of how you write your CSS. It's important whether you use CSS, SASS, utility-CSS, CSS-in-JS, or even component libraries.

Having a system for dealing with whitespace decreases the amount of time you have to spend hunting down rogue margins and paddings, and allows you be more flexible and wire up prototypes even faster.
